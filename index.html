<!doctype html>
<html lang="de" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kommt bald â€“ Platzhalter</title>
  <meta name="description" content="Hier entsteht in KÃ¼rze eine Anwendung. Bei Fragen wenden Sie sich gerne an den Support." />
  <meta name="color-scheme" content="light dark" />
  <style>
    :root {
      --bg-gradient-1: 255, 99, 132;
      --bg-gradient-2: 54, 162, 235;
      --bg-gradient-3: 75, 192, 192;
      --surface: 255,255,255;
      --text: 17, 24, 39;
      --muted: 75, 85, 99;
      --primary: 37, 99, 235;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.08), 0 2px 10px rgba(0,0,0,.04);
    }
    html[data-theme="dark"]{
      --surface: 17, 24, 39;
      --text: 241, 245, 249;
      --muted: 148, 163, 184;
      --primary: 96, 165, 250;
      --shadow: 0 10px 30px rgba(0,0,0,.35), 0 2px 10px rgba(0,0,0,.2);
    }
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: rgb(var(--text));
      background-color: #ffffff;
      display: grid;
      place-items: center;
      padding: clamp(16px, 4vw, 48px);
      transition: background-color .25s ease, color .25s ease;
    }
    .card {
      width: min(720px, 100%);
      background: rgba(var(--surface), .75);
      backdrop-filter: blur(10px) saturate(1.2);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.35);
      overflow: hidden;
      transition: background-color .25s ease, box-shadow .25s ease, border-color .25s ease;
    }
    .stripe { height: 6px; background: linear-gradient(90deg,rgba(54,162,235,1), rgba(138,43,226,1)); }
    .content { padding: clamp(20px, 4vw, 40px); position: relative; }
    .toggles { position: absolute; top: 16px; right: 16px; display: flex; gap: 8px; }
    .toggle-btn{
      appearance: none; border: 1px solid rgba(0,0,0,.08);
      background: rgba(var(--surface), .9); color: rgb(var(--text));
      border-radius: 999px; padding: 8px 12px; font-weight: 600; font-size: 13px;
      cursor: pointer; display: inline-flex; align-items: center; gap: 6px;
      box-shadow: 0 6px 16px rgba(0,0,0,.08);
    }
    html[data-theme="dark"] .toggle-btn{ border-color: rgba(255,255,255,.15); }
    .logo { display: inline-flex; align-items: center; gap: 12px; font-size: clamp(18px, 2.4vw, 22px); font-weight: 700; letter-spacing: .2px; margin-bottom: 20px; }
    .logo-icon {
      width: 36px; height: 36px; border-radius: 10px;
      background: linear-gradient(135deg, rgba(var(--bg-gradient-2), 1), rgba(var(--bg-gradient-3), 1));
      display: grid; place-items: center; box-shadow: 0 6px 16px rgba(0,0,0,.12);
    }
    .logo-icon svg { width: 20px; height: 20px; fill: white; opacity: .95; }
    h1 { margin: 0 0 10px; font-size: clamp(28px, 5vw, 40px); line-height: 1.15; }
    p  { margin: 0 0 20px; font-size: clamp(16px, 2.5vw, 18px); line-height: 1.6; color: rgb(var(--muted)); }
    .actions { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 8px; }
    .btn{
      appearance: none; border: none; cursor: pointer; border-radius: 999px;
      padding: 12px 18px; font-weight: 600; background: rgba(var(--primary), 1); color: #fff;
      text-decoration: none; display: inline-flex; align-items: center; gap: 10px;
      transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease;
      box-shadow: 0 10px 18px rgba(var(--primary), .25);
    }
    .btn:hover { transform: translateY(-1px); }
    .btn:active { transform: translateY(0); }
    .meta { margin-top: 24px; display: grid; gap: 8px; font-size: 14px; color: rgb(var(--muted)); }
    footer { margin-top: 28px; font-size: 13px; color: rgb(var(--muted)); }
    @media (prefers-reduced-motion: no-preference) {
      .floaty { animation: float 8s ease-in-out infinite; }
      @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
    }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="headline">
    <div class="stripe" aria-hidden="true"></div>
    <div class="content">
      <div class="toggles">
        <button class="toggle-btn" id="themeToggle" type="button" aria-pressed="false">ðŸŒž Light</button>
        <button class="toggle-btn" id="langToggle" type="button">DE</button>
      </div>
      <div class="logo">
        <span class="logo-icon floaty">
          <svg viewBox="0 0 24 24"><path d="M4 7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7zm3-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H7zM9 9h6a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2zm0 4h6a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2z"/></svg>
        </span>
        <span id="appName">Ihre Anwendung</span>
      </div>
      <h1 id="headline">Kommt bald.</h1>
      <p id="desc">Diese Seite dient als Platzhalter. Hier wird in KÃ¼rze Ihre Anwendung verfÃ¼gbar sein. Wenn Sie Fragen oder Anregungen haben, wenden Sie sich jederzeit gerne an unseren Support.</p>
      <div class="actions">
        <a class="btn" id="supportBtn" href="mailto:support@example.com?subject=Frage%20zur%20Anwendung">Support kontaktieren</a>
      </div>
      <div class="meta">
        <div><strong id="statusLabel">Status:</strong> <span id="statusText">Vorbereitung des Launches</span></div>
        <div><strong id="updateLabel">Letzte Aktualisierung:</strong> <span id="date">â€“</span></div>
      </div>
      <footer>Â© <span id="year"></span> â€“ <span id="footerText">Platzhalterseite. Alle Rechte vorbehalten.</span></footer>
    </div>
  </main>

  <script>
    (function(){
      // Ãœbersetzungen
      const translations = {
        de: {
          appName: "Ihre Anwendung",
          headline: "Kommt bald.",
          desc: "Diese Seite dient als Platzhalter. Hier wird in KÃ¼rze Ihre Anwendung verfÃ¼gbar sein. Wenn Sie Fragen oder Anregungen haben, wenden Sie sich jederzeit gerne an unseren Support.",
          support: "Support kontaktieren",
          supportSubject: "Frage zur Anwendung",
          statusLabel: "Status:",
          statusText: "Vorbereitung des Launches",
          updateLabel: "Letzte Aktualisierung:",
          footer: "Platzhalterseite. Alle Rechte vorbehalten.",
          themeLight: "ðŸŒž Light",
          themeDark: "ðŸŒ™ Dark",
          langToggle: "DE"
        },
        en: {
          appName: "Your Application",
          headline: "Coming soon.",
          desc: "This page is a placeholder. Your application will be available here shortly. If you have any questions or feedback, please contact our support team.",
          support: "Contact Support",
          supportSubject: "Question about the application",
          statusLabel: "Status:",
          statusText: "Preparing the launch",
          updateLabel: "Last update:",
          footer: "Placeholder page. All rights reserved.",
          themeLight: "ðŸŒž Light",
          themeDark: "ðŸŒ™ Dark",
          langToggle: "EN"
        }
      };
      const supported = Object.keys(translations);
      let currentLang = "de";

      // Liest Sprache aus verschiedenen Quellen
      function getStoredLang() {
        const stored = localStorage.getItem("lang");
        return supported.includes(stored) ? stored : null;
      }
      function getLangFromUrl() {
        const url = new URL(window.location.href);
        const params = new URLSearchParams(url.search);
        let p = params.get("sap-language") || params.get("lang") || params.get("language") || params.get("locale");
        if (!p && window.location.hash) {
          const hashParams = new URLSearchParams(window.location.hash.slice(1));
          p = hashParams.get("sap-language");
        }
        if (p) {
          const base = String(p).toLowerCase().split(/[-_]/)[0];
          return supported.includes(base) ? base : null;
        }
        return null;
      }
      function getLangFromParent() {
        try {
          const lang = window.parent.document.documentElement.getAttribute("lang");
          const base = lang && lang.split(/[-_]/)[0];
          return supported.includes(base) ? base : null;
        } catch(e) {
          return null;
        }
      }
      // Heuristik Ã¼ber Header-Text (Works ohne spezielle APIs)
      function getLangFromHeader() {
        const header = document.querySelector("#header-shellArea") || document.querySelector("#textheader-shellArea") || document.querySelector("#sapUshellAppTitleText");
        if (!header) return null;
        const txt = header.textContent.trim();
        // Deutsche SchlÃ¼sselwÃ¶rter
        const deRegex = /(projekt|verwalten|kommt|fakturierung|platzhalter|vorbereitung|aktualisierung)/i;
        const enRegex = /(project|manage|coming|placeholder|launch|update|soon)/i;
        if (deRegex.test(txt)) return "de";
        if (enRegex.test(txt)) return "en";
        // Sonderzeichen in DE
        if (/[Ã¤Ã¶Ã¼ÃŸ]/i.test(txt)) return "de";
        return null;
      }
      function getLangFromBrowser() {
        const nav = navigator.language || (navigator.languages && navigator.languages[0]);
        if (!nav) return null;
        const base = String(nav).toLowerCase().split(/[-_]/)[0];
        return supported.includes(base) ? base : null;
      }
      // Ermittelt die bevorzugte Sprache
      function detectInitialLang() {
        return getStoredLang()
            || getLangFromUrl()
            || getLangFromParent()
            || getLangFromHeader()
            || getLangFromBrowser()
            || "de";
      }

      // Wendet Ãœbersetzung an
      function setLanguage(lang) {
        currentLang = lang;
        const t = translations[lang];
        document.getElementById("appName").textContent   = t.appName;
        document.getElementById("headline").textContent  = t.headline;
        document.getElementById("desc").textContent      = t.desc;
        document.getElementById("statusLabel").textContent = t.statusLabel;
        document.getElementById("statusText").textContent  = t.statusText;
        document.getElementById("updateLabel").textContent = t.updateLabel;
        document.getElementById("footerText").textContent  = t.footer;
        // Support-Button
        const supportBtn = document.getElementById("supportBtn");
        supportBtn.textContent = t.support;
        supportBtn.href = "mailto:support@example.com?subject=" + encodeURIComponent(t.supportSubject);
        // Datum
        const d = new Date();
        const locale = lang === "de" ? "de-DE" : "en-US";
        document.getElementById("date").textContent = d.toLocaleDateString(locale, { year:"numeric", month:"long", day:"2-digit" });
        // Toggle Buttons aktualisieren
        updateThemeToggle(document.documentElement.getAttribute("data-theme") || "light");
        updateLangToggle();
      }

      // Theme-Schalter aktualisieren
      function updateThemeToggle(mode) {
        const btn = document.getElementById("themeToggle");
        const isDark = mode === "dark";
        btn.setAttribute("aria-pressed", String(isDark));
        btn.textContent = isDark ? translations[currentLang].themeDark : translations[currentLang].themeLight;
      }
      // Sprachen-Schalter aktualisieren
      function updateLangToggle() {
        const btn = document.getElementById("langToggle");
        btn.textContent = translations[currentLang].langToggle;
      }

      // Initialisierung
      const savedTheme = localStorage.getItem("theme") || "light";
      document.documentElement.setAttribute("data-theme", savedTheme);
      setLanguage(detectInitialLang());
      document.getElementById("year").textContent = new Date().getFullYear();

      // Theme-Umschalter
      document.getElementById("themeToggle").addEventListener("click", () => {
        const current = document.documentElement.getAttribute("data-theme") || "light";
        const next = current === "light" ? "dark" : "light";
        document.documentElement.setAttribute("data-theme", next);
        localStorage.setItem("theme", next);
        updateThemeToggle(next);
      });

      // Sprach-Umschalter
      document.getElementById("langToggle").addEventListener("click", () => {
        // Toggle nur zwischen de und en, erweiterbar bei Bedarf
        const next = currentLang === "de" ? "en" : "de";
        localStorage.setItem("lang", next);
        setLanguage(next);
      });

      // Beobachtet Ã„nderungen am lang-Attribut des Dokuments
      const htmlObserver = new MutationObserver(muts => {
        muts.forEach(m => {
          if (m.type === "attributes" && m.attributeName === "lang") {
            const newLang = document.documentElement.getAttribute("lang");
            const base = newLang && newLang.split(/[-_]/)[0];
            if (supported.includes(base) && base !== currentLang) {
              localStorage.removeItem("lang"); // Browser/Work Zone hat Vorrang
              setLanguage(base);
            }
          }
        });
      });
      htmlObserver.observe(document.documentElement, { attributes: true });

      // Beobachtet den Header der Work Zone (globaler Titel)
      const headerEl = document.querySelector("#header-shellArea") || document.querySelector("#textheader-shellArea") || document.querySelector("#sapUshellAppTitleText");
      if (headerEl) {
        const headerObserver = new MutationObserver(() => {
          const detected = getLangFromHeader();
          if (detected && detected !== currentLang) {
            localStorage.removeItem("lang"); // automatische Sprache
            setLanguage(detected);
          }
        });
        headerObserver.observe(headerEl, { childList: true, subtree: true, characterData: true });
      }
    })();
  </script>
</body>
</html>
